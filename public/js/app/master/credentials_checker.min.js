const sleep = ms => new Promise(resolve => setTimeout(resolve, ms));

const redirectTo = async (url) => {
    await sleep(3000);
    $(location).attr('href', url);
}

const checkCredentials = () => {
    let findToken = localStorage.getItem('_jwtApiToken');
    findToken ? getCredentials() : redirectTo('/signin');
}

const getCredentials = () => {
    axios.get(`/api/user-credentials`, { headers: { 'Accept': 'application/json', 'Authorization': `Bearer ${localStorage.getItem('_jwtApiToken')}` } }).then(response => console.log(response.data)).catch(error => { toastWarning(error), redirectTo('/signin') });
}

